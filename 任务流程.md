## 数据库大作业完成流程

### 阶段一：需求分析与系统设计（第1-2周）

#### 1.1 系统需求分析（刘鑫宇负责）
- [ ] 详细分析校内二手交易平台的用户需求
- [ ] 确定系统的功能性需求和非功能性需求
- [ ] 分析用户角色和权限（买家、卖家、管理员）
- [ ] 制定系统约束条件

#### 1.2 系统功能结构设计（刘鑫宇负责）
- [ ] 设计系统总体架构
- [ ] 定义各个功能模块：
  - 用户管理模块（注册、登录、认证）
  - 商品管理模块（发布、浏览、搜索、分类）
  - 交易管理模块（下单、支付、订单管理）
  - 消息通信模块（买卖双方沟通）
  - 收藏管理模块
  - 地址管理模块
- [ ] 绘制数据流图（DFD）
- [ ] 制作数据元素表

### 阶段二：数据库概念设计（第2-3周）

#### 2.1 E-R图设计（肖一涵负责）
- [ ] 根据已确定的7个实体设计详细的E-R图：
  - 用户(User)
  - 商品(Item) 
  - 分类(Category)
  - 订单(Order)
  - 消息(Message)
  - 收藏(Wishlist)
  - 地址(Address)
- [ ] 定义实体的属性和主键
- [ ] 确定实体间的联系和基数约束
- [ ] 验证E-R图的完整性和一致性

### 阶段三：逻辑结构设计（第3-4周）

#### 3.1 关系模式设计（肖一涵负责）
- [ ] 将E-R图转换为关系模式
- [ ] 分析每个关系模式的范式等级
- [ ] 将所有关系规范化到第三范式(3NF)
- [ ] 处理多对多关系（如用户-商品收藏关系）
- [ ] 定义外键约束和参照完整性

#### 3.2 关系模式优化（肖一涵负责）
- [ ] 分析可能的数据冗余
- [ ] 优化查询性能
- [ ] 确定合适的数据类型和长度

### 阶段四：物理结构设计（第4-5周）

#### 4.1 物理设计（肖一涵负责）
- [ ] 选择合适的存取方法
- [ ] 设计索引策略：
  - 主键索引
  - 外键索引
  - 查询优化索引（如商品名称、分类等）
- [ ] 考虑存储空间和查询效率的平衡

### 阶段五：数据库实现（第5-7周）

#### 5.1 数据库环境搭建（共同完成）
- [ ] 配置华为云GaussDB(for MySQL)数据库
- [ ] 建立数据库连接
- [ ] 设置开发环境

#### 5.2 基本表定义（肖一涵负责）
- [ ] 编写CREATE TABLE语句创建所有基本表
- [ ] 定义主键、外键约束
- [ ] 设置CHECK约束和DEFAULT值
- [ ] 创建必要的索引

#### 5.3 存储过程和触发器（肖一涵负责）
- [ ] 设计并实现存储过程：
  - 用户注册验证
  - 商品发布流程
  - 订单处理流程
- [ ] 设计并实现触发器：
  - 订单状态更新触发器
  - 商品库存管理触发器
  - 用户信用评分更新触发器

### 阶段六：功能实现（第6-8周）

#### 6.1 基础数据操作（刘鑫宇负责）
- [ ] 实现用户管理功能的SQL语句：
  - 用户注册（INSERT）
  - 用户信息查询（SELECT）
  - 用户信息修改（UPDATE）
  - 用户注销（DELETE）

#### 6.2 商品和交易操作（刘鑫宇负责）
- [ ] 实现商品管理功能的SQL语句：
  - 商品发布（INSERT）
  - 商品搜索和浏览（SELECT with JOIN）
  - 商品信息修改（UPDATE）
  - 商品下架（DELETE）
- [ ] 实现交易功能的SQL语句：
  - 订单创建（INSERT）
  - 订单查询（SELECT）
  - 订单状态更新（UPDATE）

#### 6.3 高级功能实现（共同完成）
- [ ] 消息系统SQL实现
- [ ] 收藏功能SQL实现
- [ ] 地址管理SQL实现
- [ ] 复杂查询实现（统计分析、多表联合查询等）

### 阶段七：测试与优化（第8-9周）

#### 7.1 功能测试（共同完成）
- [ ] 测试所有CRUD操作
- [ ] 测试存储过程和触发器
- [ ] 测试数据完整性约束
- [ ] 性能测试和优化

#### 7.2 数据准备（共同完成）
- [ ] 准备测试数据
- [ ] 验证系统功能完整性
- [ ] 准备演示数据

### 阶段八：文档编写（第9-10周）

#### 8.1 系统设计报告（刘鑫宇负责）
- [ ] 系统需求分析
- [ ] 系统功能结构设计
- [ ] 数据流图和数据元素表
- [ ] E-R图（肖一涵提供）
- [ ] 逻辑结构设计（肖一涵提供）
- [ ] 物理设计（肖一涵提供）

#### 8.2 系统实现报告（肖一涵负责）
- [ ] 实现环境说明
- [ ] 基本表定义
- [ ] 触发器与存储过程说明
- [ ] SQL语句及运行结果（刘鑫宇提供部分）
- [ ] 个人总结和体会

### 阶段九：最终准备（第10周）

#### 9.1 代码整理（共同完成）
- [ ] 整理所有SQL源代码
- [ ] 准备数据库备份文件
- [ ] 编写部署说明文档

#### 9.2 演示准备（共同完成）
- [ ] 准备演示脚本
- [ ] 测试演示环境
- [ ] 准备演示PPT

## 关键注意事项

1. **技术约束**：必须使用原生SQL语句实现增删改查、存储过程和触发器，不能使用Django等框架的封装接口

2. **实体要求**：你们的7个实体（用户、商品、分类、订单、消息、收藏、地址）满足6-8个实体的要求

3. **分工明确**：
   - 刘鑫宇：系统功能设计 + 部分数据库操作实现
   - 肖一涵：数据库设计 + 部分数据库操作实现

4. **文档要求**：需要提交系统设计报告和系统实现报告两份文档

5. **演示要求**：最终需要进行系统操作演示，展现所有实现的功能

这个流程确保了你们能够系统性地完成整个数据库大作业，每个阶段都有明确的目标和交付物。建议你们按照这个时间安排执行，并定期进行进度检查和沟通。
        